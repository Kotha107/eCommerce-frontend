<div class="min-h-screen bg-[#f8f9fa] p-6">
  <div class="max-w-6xl mx-auto">
    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-[#28c76f] mb-2">Manage Categories</h1>
      <p class="text-gray-500">Create and manage your product categories</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Left Side: Categories List -->
      <div class="lg:col-span-2">
        <div
          class="bg-white rounded-[30px] shadow-sm border border-gray-100 p-6"
        >
          <h2 class="text-xl font-semibold text-[#28c76f] mb-4">
            All Categories
          </h2>

          @if (categories.length === 0) {
          <div class="text-center py-12">
            <p class="text-gray-400 italic">No categories available yet.</p>
            <p class="text-sm text-gray-500 mt-2">
              Create your first category using the form ‚Üí
            </p>
          </div>
          } @else {
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
            @for (category of categories; track category.id) {
            <div
              class="group bg-gray-50 hover:bg-green-50 border border-gray-200 hover:border-[#28c76f] rounded-2xl p-4 transition-all flex items-center justify-between"
            >
              <div class="flex items-center gap-3">
                <div
                  class="w-10 h-10 bg-[#eafbf2] rounded-full flex items-center justify-center"
                >
                  <span class="text-[#28c76f] font-bold text-lg">
                    {{ category.name.charAt(0).toUpperCase() }}
                  </span>
                </div>
                <span class="font-semibold text-gray-700"
                  >{{ category.name }}</span
                >
              </div>

              <div class="flex gap-2">
                <button
                  (click)="editCategory(category)"
                  class="opacity-0 group-hover:opacity-100 bg-blue-50 hover:bg-blue-100 text-blue-500 p-2 rounded-full transition-all"
                  title="Edit category"
                >
                  <img
                    src="../../assets/icon/edit-pencil.svg"
                    class="w-5 h-5"
                    alt="Edit"
                  />
                </button>

                <button
                  (click)="deleteCategory(category.id)"
                  class="opacity-0 group-hover:opacity-100 bg-red-50 hover:bg-red-100 text-red-500 p-2 rounded-full transition-all"
                >
                  <img
                    src="../../assets/icon/trash-delete-bin.svg"
                    class="w-5 h-5"
                    alt="Delete"
                  />
                </button>
              </div>
            </div>
            }
          </div>
          }
        </div>
      </div>

      <!-- Right Side: Create Form -->
      <div class="lg:col-span-1">
        <div
          class="bg-white rounded-[30px] shadow-sm border border-gray-100 p-6 sticky top-6"
        >
          <form
            [formGroup]="categoryForm"
            (submit)="saveCategory()"
            class="space-y-6"
          >
            <div class="text-center mb-6">
              <div
                class="w-16 h-16 bg-[#eafbf2] rounded-full mx-auto mb-4 flex items-center justify-center"
              >
                <span class="text-3xl">üìÅ</span>
              </div>
              <h2 class="text-2xl font-bold text-[#28c76f] mb-2">
                {{ isEditMode ? 'Update Category' : 'Create Category' }}
              </h2>
              <p class="text-gray-500 text-sm">
                {{ isEditMode ? 'Modify the category details' : 'Add a new
                category to organize products' }}
              </p>
            </div>

            <div>
              <mat-form-field
                appearance="outline"
                style="width: 100%"
                class="ion-align-items-center"
              >
                <mat-label class="font-gotham_book text-sm text-black">
                  Category Name</mat-label
                >
                <input
                  matInput
                  type="text"
                  formControlName="name"
                  floatLabel="always"
                  placeholder="e.g., Beverages, Snacks"
                />
              </mat-form-field>
            </div>

            <button
              type="submit"
              [disabled]="loading || !categoryForm.valid"
              class="w-full bg-[#28c76f] hover:bg-[#24b364] text-white font-semibold py-4 rounded-2xl shadow-lg hover:shadow-xl transition-all disabled:bg-gray-300 disabled:cursor-not-allowed disabled:shadow-none"
            >
              <span>
                {{ loading ? 'Saving...' : (isEditMode ? '‚úì Update Category' :
                '‚úì Create Category') }}
              </span>
            </button>
            @if (isEditMode) {
            <button
              type="button"
              (click)="cancelEdit()"
              class="w-full bg-gray-100 text-gray-600 font-semibold py-4 rounded-2xl transition-all"
            >
              Cancel Edit
            </button>
            }
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
