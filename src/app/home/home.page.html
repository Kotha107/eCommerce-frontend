<ion-header>
  <ion-toolbar>
    <ion-title>Products</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="cartService.togglePanel()">
        Cart
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [scrollY]="false"> 
  <div class="main-layout h-full flex w-full">
    
    <div class="content-area flex-1 overflow-y-auto p-4 bg-gray-50">
      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
        
        @for (product of products; track $index) {
          <div class="product-card border rounded-lg overflow-hidden shadow-sm bg-white flex flex-col">
            <div class="relative h-40 overflow-hidden cursor-pointer" (click)="openProductModal(product)">
              <img [src]="product.imageUrl" class="w-full h-full object-cover transition-transform hover:scale-105" alt="{{product.name}}" />
            </div>

            <div class="p-3 flex flex-col flex-grow justify-between">
              <div class="flex justify-between">
                <h2 class="text-base font-semibold truncate" title="{{ product.name }}">{{ product.name }}</h2>
                <p class="text-gray-600 text-sm font-medium">à§³ {{ product.price }}</p>
              </div>

              <button (click)="addToCart(product)" class="add-btn mt-3 w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition-colors duration-200 flex items-center justify-center gap-2">
                <span>Add to Cart</span>
              </button>
            </div>
          </div>
        }

      </div>
    </div>

    <app-right-side-panel mode="cart"></app-right-side-panel>
  </div>
</ion-content>